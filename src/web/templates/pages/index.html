{% extends 'base.html' %}
{% block title %}Client{% endblock %}
{% block stylesheets %}
<link href="{{ url_for('static', filename='src/index.css') }}" rel="stylesheet" />
{% endblock %}
{% block content %}

<section id="upload" class="group">
    <section class="messages">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for cat, msg in messages %}
        <div class="{{ cat }}">{{ msg }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </section>

    <form action="/api" method="POST" enctype="multipart/form-data">
        <label for="file-selector" class="button button-secondary" title="Select File to Upload" tabindex=0>Select
            Fileâ€¦</label>
        <input id="file-selector" type="file" name="upload" />
        <label for="upload-file" class="button" title="Send Selected File" tabindex=0>Send Selected File</label>
        <input id="upload-file" type="submit" />
    </form>
</section>

<section id="download" class="group">
    <section class="messages">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for cat, msg in messages %}
        <div class="{{ cat }}">{{ msg }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </section>

    <form action="{{ url_for('api.send') }}" method="GET">
        <label for="download-file" class="button" title="Receive File" tabindex=0>Receive File</label>
        <input id="download-file" type="submit" />
    </form>
</section>

{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='src/index.js') }}" type='module'></script>
{% endblock %}
